# Conventional Commits 詳細ガイド

## フォーマット

```
<type>(<scope>): <subject>
<空行>
<body>
<空行>
<footer>
```

### 各要素の説明

| 要素 | 必須 | 説明 |
|------|------|------|
| type | ✓ | 変更の種類 |
| scope | - | 変更の影響範囲（モジュール名、機能名など） |
| subject | ✓ | 変更の要約（50文字以内推奨） |
| body | - | 変更の詳細説明 |
| footer | - | Breaking Changes、Issue参照など |

## Type詳細

### feat
新機能の追加。ユーザーに新しい価値を提供する変更。

```
feat(cart): カートに商品を追加する機能を実装

商品詳細ページから直接カートに追加できるようにした。
数量選択も可能。
```

### fix
バグ修正。既存機能の不具合を修正。

```
fix(login): パスワードリセットメールが送信されない問題を修正

SMTPサーバーへの接続タイムアウトを30秒に延長。
```

### docs
ドキュメントのみの変更。コードの動作には影響しない。

```
docs(api): APIエンドポイントのドキュメントを追加
```

### style
コードの意味に影響しない変更（空白、フォーマット、セミコロン追加など）。

```
style: ESLintの警告を修正
```

### refactor
バグ修正でも機能追加でもないコード変更。

```
refactor(auth): 認証ロジックをサービスクラスに分離
```

### perf
パフォーマンス改善のためのコード変更。

```
perf(query): N+1クエリを解消しDBアクセスを最適化
```

### test
テストの追加・修正。

```
test(user): ユーザー登録のバリデーションテストを追加
```

### chore
ビルドプロセスや補助ツールの変更。

```
chore(deps): lodashを4.17.21にアップデート
```

## Scope例

プロジェクトに応じて定義する。一般的な例：

- `auth` - 認証関連
- `api` - API関連
- `ui` - ユーザーインターフェース
- `db` - データベース
- `config` - 設定
- `deps` - 依存関係

## Subject記述ルール

1. 50文字以内を推奨
2. 末尾にピリオドを付けない
3. 命令形（「〜を追加」「〜を修正」）で記述
4. 何をしたかを簡潔に

## Body記述ルール

1. なぜこの変更が必要かを説明
2. 変更前後の動作の違いを明記
3. 1行72文字程度で折り返し

## Footer記述ルール

### Breaking Changes

後方互換性のない変更がある場合：

```
feat(api): レスポンス形式をJSONからProtobufに変更

BREAKING CHANGE: 全APIのレスポンス形式が変更されます。
クライアント側の対応が必要です。
```

### Issue参照

```
fix(cart): カート合計金額の計算誤りを修正

Closes #123
Refs #456, #789
```

- `Closes` / `Fixes` - Issueを自動クローズ
- `Refs` - 関連Issueへの参照（クローズしない）
